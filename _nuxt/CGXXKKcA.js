import{_ as Y,r as u,j as Z,o as ee,t as c,x as e,z as j,J as l,y as r,A as D,T as M,K as i,L as x,M as h,N as I,O as te,P as J,Q as m,v,R as F}from"./DXeDWYFy.js";const oe={class:"bg"},le={class:"header"},se={class:"hidden"},ne={class:"content"},ae={class:"expenditure"},ue={class:"expenses"},de={class:"upper"},ie={class:"expense-wrapper"},ce={class:"keyin"},ve=["onUpdate:modelValue"],re=["onClick"],pe={class:"keyin"},ye={class:"lower"},ge={class:"expense-wrapper"},_e={class:"once"},Se={class:"keyin"},me={class:"keyin"},fe={class:"total"},be={class:"keyin"},ke={class:"todo"},xe={class:"buy"},he={class:"tobuys"},Ie=["onClick"],Oe=["onClick"],Ce={class:"keyin"},Ne=["onUpdate:modelValue"],Je=["onClick"],Te={class:"keyin"},we={class:"do"},$e={class:"todos"},Ve=["onClick"],Ue=["onClick"],Be={class:"keyin"},Ee=["onUpdate:modelValue"],je=["onClick"],De={class:"keyin"},Me={__name:"index",setup(Re){const f=u("todo/tobuy"),d=u("to do"),V=u(""),U=u(""),b=Z({get:()=>d.value==="to do"?V.value:U.value,set:o=>{d.value==="to do"?V.value=o:U.value=o}}),_=u({}),S=u({}),p=u(null),y=u(null),B=u(!1),G=()=>{f.value==="expenditure"?f.value="todo/tobuy":f.value="expenditure"},Q=()=>{d.value==="to do"?d.value="to buy":d.value="to do"},R=o=>{if(d.value==="to do"){p.value||localStorage.setItem("todo",""),console.log(p.value);const t={...p.value,[o]:[]};console.log(t),localStorage.setItem("todo",JSON.stringify(t)),p.value=JSON.parse(localStorage.getItem("todo")),V.value=""}else if(d.value==="to buy"){y.value||localStorage.setItem("tobuy",""),console.log(y.value);const t={...y.value,[o]:[]};console.log(t),localStorage.setItem("tobuy",JSON.stringify(t)),y.value=JSON.parse(localStorage.getItem("tobuy")),U.value=""}},K=(o,t)=>{d.value==="to do"?(p.value[o].push(t),console.log(p.value,p.value[o],o,t),localStorage.setItem("todo",JSON.stringify(p.value)),_.value[o]=""):d.value==="to buy"&&(y.value[o].push(t),localStorage.setItem("tobuy",JSON.stringify(y.value)),S.value[o]="")},L=o=>{d.value==="to do"?(_.value[o]===void 0&&(_.value[o]=!1),_.value[o]=!_.value[o]):d.value==="to buy"&&(S.value[o]===void 0&&(S.value[o]=!1),S.value[o]=!S.value[o])},P=o=>{if(d.value==="to do"){const t=Object.fromEntries(Object.entries(p.value).filter(([s,n])=>s!==o));localStorage.setItem("todo",JSON.stringify(t)),p.value=JSON.parse(localStorage.getItem("todo"))}else if(d.value==="to buy"){const t=Object.fromEntries(Object.entries(y.value).filter(([s,n])=>s!==o));localStorage.setItem("tobuy",JSON.stringify(t)),y.value=JSON.parse(localStorage.getItem("tobuy"))}},E=u(!1),$=u(null),O=u(""),T=u({}),w=u(null),g=u(null),q=()=>{localStorage.setItem("total",$.value),localStorage.removeItem("expenses"),localStorage.removeItem("once")},z=o=>{w.value-=o,console.log(w.value),localStorage.setItem("total",w.value),console.log(localStorage.getItem("total"))},A=()=>{if(g.value||(localStorage.setItem("expenses",""),g.value={},console.log(g.value)),g.value.hasOwnProperty(O.value))alert("Subject existed");else{const o={...g.value,[O.value]:[]};console.log(o),g.value=o,O.value="",localStorage.setItem("expenses",JSON.stringify(o))}},H=o=>{g.value[o].push(T.value[o]),localStorage.setItem("expenses",JSON.stringify(g.value)),z(T.value[o]),T.value[o]=null},C=u(null),N=u(null),k=u(null),W=()=>{k.value||(localStorage.setItem("once",""),k.value={}),k.value.hasOwnProperty(C.value)||(k.value={...k.value,[C.value]:N.value},z(N.value),C.value=null,N.value=null,localStorage.setItem("once",JSON.stringify(k.value)))};return ee(()=>{const o=localStorage.getItem("todo"),t=localStorage.getItem("tobuy"),s=localStorage.getItem("expenses"),n=localStorage.getItem("total"),a=localStorage.getItem("once");p.value=o?JSON.parse(o):null,y.value=t?JSON.parse(t):null,g.value=s?JSON.parse(s):null,w.value=n?JSON.parse(n):null,k.value=a?JSON.parse(a):null}),(o,t)=>(v(),c("div",oe,[e("div",le,[e("h1",{onClick:t[0]||(t[0]=s=>B.value=!l(B))},r(l(f)==="todo/tobuy"?"Monthly Expenditure":"To Do / To Buy"),1),j(M,{name:"page"},{default:D(()=>[i(e("div",se,[i(e("div",{class:"btn"},"clear "+r(l(d)),513),[[x,l(f)==="expenditure"]]),e("div",{class:"btn",onClick:t[1]||(t[1]=s=>G())}," switch to "+r(l(f)),1)],512),[[x,l(B)]])]),_:1})]),e("div",ne,[i(e("div",ae,[e("div",ue,[e("div",de,[(v(!0),c(h,null,I(l(g),(s,n)=>(v(),c("div",{class:"subject",key:n},[e("p",null,r(n),1),e("div",ie,[(v(!0),c(h,null,I(s,a=>(v(),c("div",{class:"expense",key:a},r(a),1))),128))]),e("div",ce,[i(e("input",{type:"number",placeholder:"spending...","onUpdate:modelValue":a=>l(T)[n]=a},null,8,ve),[[m,l(T)[n]]]),e("button",{class:"btn",onClick:a=>H(n)},"spend",8,re)])]))),128)),e("div",pe,[i(e("input",{type:"text",placeholder:"subject...","onUpdate:modelValue":t[2]||(t[2]=s=>J(O)?O.value=s:null),onKeyup:t[3]||(t[3]=te(s=>A(),["enter"]))},null,544),[[m,l(O)]]),e("button",{class:"btn",onClick:t[4]||(t[4]=s=>A())},"subject")])]),e("div",ye,[e("div",ge,[(v(!0),c(h,null,I(l(k),(s,n)=>(v(),c("div",{class:"expense",key:n},[e("p",null,r(n),1),e("p",null,r(s),1)]))),128))]),e("div",_e,[e("div",Se,[i(e("input",{type:"text",placeholder:"name...","onUpdate:modelValue":t[5]||(t[5]=s=>J(C)?C.value=s:null)},null,512),[[m,l(C)]])]),e("div",me,[i(e("input",{type:"text",placeholder:"amount...","onUpdate:modelValue":t[6]||(t[6]=s=>J(N)?N.value=s:null)},null,512),[[m,l(N)]]),e("div",{class:"btn",onClick:W},"once")])])])]),e("div",fe,[e("p",{onClick:t[7]||(t[7]=s=>E.value=!l(E))},"Total"),e("p",null,r(l(w)),1),i(e("div",be,[i(e("input",{type:"number",placeholder:"total...","onUpdate:modelValue":t[8]||(t[8]=s=>J($)?$.value=s:null),inputmode:"numeric"},null,512),[[m,l($)]]),e("button",{class:"btn",onClick:t[9]||(t[9]=s=>q())},"total")],512),[[x,l(E)]])])],512),[[x,l(f)==="todo/tobuy"]]),i(e("div",ke,[j(M,{name:"tobuy"},{default:D(()=>[i(e("div",xe,[e("div",he,[(v(!0),c(h,null,I(l(y),(s,n)=>(v(),c("div",{class:"tobuy",key:n},[e("p",{onClick:a=>P(n)},r(n),9,Ie),(v(!0),c(h,null,I(s,a=>(v(),c("div",{class:F(["item",{done:l(S)[a]}]),key:a,onClick:X=>L(a)},r(a),11,Oe))),128)),e("div",Ce,[i(e("input",{type:"text",placeholder:"add item...","onUpdate:modelValue":a=>l(S)[n]=a},null,8,Ne),[[m,l(S)[n]]]),e("div",{class:"btn",onClick:a=>K(n,l(S)[n])},"add item",8,Je)])]))),128))]),e("div",Te,[i(e("input",{type:"text",placeholder:"add subject...","onUpdate:modelValue":t[10]||(t[10]=s=>J(b)?b.value=s:null)},null,512),[[m,l(b)]]),e("div",{class:"btn",onClick:t[11]||(t[11]=s=>R(l(b)))},"add")])],512),[[x,l(d)==="to buy"]])]),_:1}),e("div",{class:"switch",onClick:Q},r(l(d)==="to do"?">":"<"),1),j(M,{name:"todo"},{default:D(()=>[i(e("div",we,[e("div",$e,[(v(!0),c(h,null,I(l(p),(s,n)=>(v(),c("div",{class:"todo",key:n},[e("p",{onClick:a=>P(n)},r(n),9,Ve),(v(!0),c(h,null,I(s,a=>(v(),c("div",{class:F(["item",{done:l(_)[a]}]),key:a,onClick:X=>L(a)},r(a),11,Ue))),128)),e("div",Be,[i(e("input",{type:"text",placeholder:"add item...","onUpdate:modelValue":a=>l(_)[n]=a},null,8,Ee),[[m,l(_)[n]]]),e("div",{class:"btn",onClick:a=>K(n,l(_)[n])},"add item",8,je)])]))),128))]),e("div",De,[i(e("input",{type:"text",placeholder:"add subject...","onUpdate:modelValue":t[12]||(t[12]=s=>J(b)?b.value=s:null)},null,512),[[m,l(b)]]),e("div",{class:"btn",onClick:t[13]||(t[13]=s=>R(l(b)))},"add")])],512),[[x,l(d)==="to do"]])]),_:1})],512),[[x,l(f)==="expenditure"]])])]))}},Le=Y(Me,[["__scopeId","data-v-37d9ebd3"]]);export{Le as default};
