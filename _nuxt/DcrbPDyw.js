import{_ as ee,r as u,j as te,o as oe,t as c,x as e,z as j,y as r,J as l,A as D,T as M,K as d,L as h,M as x,N as C,O as le,P as T,Q as S,v,R as F}from"./hbV8BQWq.js";const se={class:"bg"},ne={class:"header"},ae={class:"hidden"},ue={class:"content"},ie={class:"expenditure"},de={class:"expenses"},ce={class:"upper"},ve={class:"expense-wrapper"},re={class:"keyin"},pe=["onUpdate:modelValue"],ge=["onClick"],ye={class:"keyin"},_e={class:"lower"},fe={class:"expense-wrapper"},Se={class:"once"},me={class:"keyin"},be={class:"keyin"},ke={class:"total"},he={class:"keyin"},xe={class:"todo"},Ce={class:"buy"},Ie={class:"tobuys"},Oe=["onClick"],Ne=["onClick"],Te={class:"keyin"},Je=["onUpdate:modelValue"],we=["onClick"],$e={class:"keyin"},Ve={class:"do"},Ue={class:"todos"},Be=["onClick"],Ee=["onClick"],je={class:"keyin"},De=["onUpdate:modelValue"],Me=["onClick"],Re={class:"keyin"},Ke={__name:"index",setup(Le){const m=u("todo/tobuy"),i=u("to do"),V=u(""),U=u(""),b=te({get:()=>i.value==="to do"?V.value:U.value,set:o=>{i.value==="to do"?V.value=o:U.value=o}}),_=u({}),f=u({}),p=u(null),g=u(null),B=u(!1),G=()=>{m.value==="expenditure"?m.value="todo/tobuy":m.value="expenditure"},Q=()=>{i.value==="to do"?i.value="to buy":i.value="to do"},R=o=>{if(isClient){if(i.value==="to do"){p.value||localStorage.setItem("todo",""),console.log(p.value);const t={...p.value,[o]:[]};console.log(t),localStorage.setItem("todo",JSON.stringify(t)),p.value=JSON.parse(localStorage.getItem("todo")),V.value=""}else if(i.value==="to buy"){g.value||localStorage.setItem("tobuy",""),console.log(g.value);const t={...g.value,[o]:[]};console.log(t),localStorage.setItem("tobuy",JSON.stringify(t)),g.value=JSON.parse(localStorage.getItem("tobuy")),U.value=""}}},K=(o,t)=>{isClient&&(i.value==="to do"?(p.value[o].push(t),console.log(p.value,p.value[o],o,t),localStorage.setItem("todo",JSON.stringify(p.value)),_.value[o]=""):i.value==="to buy"&&(g.value[o].push(t),localStorage.setItem("tobuy",JSON.stringify(g.value)),f.value[o]=""))},L=o=>{isClient&&(i.value==="to do"?(_.value[o]===void 0&&(_.value[o]=!1),_.value[o]=!_.value[o]):i.value==="to buy"&&(f.value[o]===void 0&&(f.value[o]=!1),f.value[o]=!f.value[o]))},P=o=>{if(isClient){if(i.value==="to do"){const t=Object.fromEntries(Object.entries(p.value).filter(([s,n])=>s!==o));localStorage.setItem("todo",JSON.stringify(t)),p.value=JSON.parse(localStorage.getItem("todo"))}else if(i.value==="to buy"){const t=Object.fromEntries(Object.entries(g.value).filter(([s,n])=>s!==o));localStorage.setItem("tobuy",JSON.stringify(t)),g.value=JSON.parse(localStorage.getItem("tobuy"))}}},q=()=>{B=!B},H=()=>{E=!E},E=u(!1),$=u(null),I=u(""),J=u({}),w=u(null),y=u(null),W=()=>{isClient&&(localStorage.setItem("total",$.value),localStorage.removeItem("expenses"),localStorage.removeItem("once"))},z=o=>{isClient&&(w.value-=o,console.log(w.value),localStorage.setItem("total",w.value),console.log(localStorage.getItem("total")))},A=()=>{if(isClient)if(y.value||(localStorage.setItem("expenses",""),y.value={},console.log(y.value)),y.value.hasOwnProperty(I.value))alert("Subject existed");else{const o={...y.value,[I.value]:[]};console.log(o),y.value=o,I.value="",localStorage.setItem("expenses",JSON.stringify(o))}},X=o=>{isClient&&(y.value[o].push(J.value[o]),localStorage.setItem("expenses",JSON.stringify(y.value)),z(J.value[o]),J.value[o]=null)},O=u(null),N=u(null),k=u(null),Y=()=>{isClient&&(k.value||(localStorage.setItem("once",""),k.value={}),k.value.hasOwnProperty(O.value)||(k.value={...k.value,[O.value]:N.value},z(N.value),O.value=null,N.value=null,localStorage.setItem("once",JSON.stringify(k.value))))};return oe(()=>{const o=localStorage.getItem("todo"),t=localStorage.getItem("tobuy"),s=localStorage.getItem("expenses"),n=localStorage.getItem("total"),a=localStorage.getItem("once");p.value=o?JSON.parse(o):null,g.value=t?JSON.parse(t):null,y.value=s?JSON.parse(s):null,w.value=n?JSON.parse(n):null,k.value=a?JSON.parse(a):null}),(o,t)=>(v(),c("div",se,[e("div",ne,[e("h1",{onClick:t[0]||(t[0]=s=>q())},r(l(m)==="todo/tobuy"?"Monthly Expenditure":"To Do / To Buy"),1),j(M,{name:"page"},{default:D(()=>[d(e("div",ae,[d(e("div",{class:"btn"},"clear "+r(l(i)),513),[[h,l(m)==="expenditure"]]),e("div",{class:"btn",onClick:t[1]||(t[1]=s=>G())}," switch to "+r(l(m)),1)],512),[[h,l(B)]])]),_:1})]),e("div",ue,[d(e("div",ie,[e("div",de,[e("div",ce,[(v(!0),c(x,null,C(l(y),(s,n)=>(v(),c("div",{class:"subject",key:n},[e("p",null,r(n),1),e("div",ve,[(v(!0),c(x,null,C(s,a=>(v(),c("div",{class:"expense",key:a},r(a),1))),128))]),e("div",re,[d(e("input",{type:"number",placeholder:"spending...","onUpdate:modelValue":a=>l(J)[n]=a},null,8,pe),[[S,l(J)[n]]]),e("button",{class:"btn",onClick:a=>X(n)},"spend",8,ge)])]))),128)),e("div",ye,[d(e("input",{type:"text",placeholder:"subject...","onUpdate:modelValue":t[2]||(t[2]=s=>T(I)?I.value=s:null),onKeyup:t[3]||(t[3]=le(s=>A(),["enter"]))},null,544),[[S,l(I)]]),e("button",{class:"btn",onClick:t[4]||(t[4]=s=>A())},"subject")])]),e("div",_e,[e("div",fe,[(v(!0),c(x,null,C(l(k),(s,n)=>(v(),c("div",{class:"expense",key:n},[e("p",null,r(n),1),e("p",null,r(s),1)]))),128))]),e("div",Se,[e("div",me,[d(e("input",{type:"text",placeholder:"name...","onUpdate:modelValue":t[5]||(t[5]=s=>T(O)?O.value=s:null)},null,512),[[S,l(O)]])]),e("div",be,[d(e("input",{type:"text",placeholder:"amount...","onUpdate:modelValue":t[6]||(t[6]=s=>T(N)?N.value=s:null)},null,512),[[S,l(N)]]),e("div",{class:"btn",onClick:Y},"once")])])])]),e("div",ke,[e("p",{onClick:H},"Total"),e("p",null,r(l(w)),1),d(e("div",he,[d(e("input",{type:"number",placeholder:"total...","onUpdate:modelValue":t[7]||(t[7]=s=>T($)?$.value=s:null),inputmode:"numeric"},null,512),[[S,l($)]]),e("button",{class:"btn",onClick:t[8]||(t[8]=s=>W())},"total")],512),[[h,l(E)]])])],512),[[h,l(m)==="todo/tobuy"]]),d(e("div",xe,[j(M,{name:"tobuy"},{default:D(()=>[d(e("div",Ce,[e("div",Ie,[(v(!0),c(x,null,C(l(g),(s,n)=>(v(),c("div",{class:"tobuy",key:n},[e("p",{onClick:a=>P(n)},r(n),9,Oe),(v(!0),c(x,null,C(s,a=>(v(),c("div",{class:F(["item",{done:l(f)[a]}]),key:a,onClick:Z=>L(a)},r(a),11,Ne))),128)),e("div",Te,[d(e("input",{type:"text",placeholder:"add item...","onUpdate:modelValue":a=>l(f)[n]=a},null,8,Je),[[S,l(f)[n]]]),e("div",{class:"btn",onClick:a=>K(n,l(f)[n])},"add item",8,we)])]))),128))]),e("div",$e,[d(e("input",{type:"text",placeholder:"add subject...","onUpdate:modelValue":t[9]||(t[9]=s=>T(b)?b.value=s:null)},null,512),[[S,l(b)]]),e("div",{class:"btn",onClick:t[10]||(t[10]=s=>R(l(b)))},"add")])],512),[[h,l(i)==="to buy"]])]),_:1}),e("div",{class:"switch",onClick:Q},r(l(i)==="to do"?">":"<"),1),j(M,{name:"todo"},{default:D(()=>[d(e("div",Ve,[e("div",Ue,[(v(!0),c(x,null,C(l(p),(s,n)=>(v(),c("div",{class:"todo",key:n},[e("p",{onClick:a=>P(n)},r(n),9,Be),(v(!0),c(x,null,C(s,a=>(v(),c("div",{class:F(["item",{done:l(_)[a]}]),key:a,onClick:Z=>L(a)},r(a),11,Ee))),128)),e("div",je,[d(e("input",{type:"text",placeholder:"add item...","onUpdate:modelValue":a=>l(_)[n]=a},null,8,De),[[S,l(_)[n]]]),e("div",{class:"btn",onClick:a=>K(n,l(_)[n])},"add item",8,Me)])]))),128))]),e("div",Re,[d(e("input",{type:"text",placeholder:"add subject...","onUpdate:modelValue":t[11]||(t[11]=s=>T(b)?b.value=s:null)},null,512),[[S,l(b)]]),e("div",{class:"btn",onClick:t[12]||(t[12]=s=>R(l(b)))},"add")])],512),[[h,l(i)==="to do"]])]),_:1})],512),[[h,l(m)==="expenditure"]])])]))}},ze=ee(Ke,[["__scopeId","data-v-75534817"]]);export{ze as default};
